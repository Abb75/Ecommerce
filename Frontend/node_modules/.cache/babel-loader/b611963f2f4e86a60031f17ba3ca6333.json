{"ast":null,"code":"import axios from \"axios\";\nimport { CART_ADD_ITEM, CART_REMOVE_ALL_ITEM, CART_REMOVE_ITEM } from '../constants/cartConstants';\nimport { productListReducer } from \"../reducers/productReducer/productReducers\";\nimport { CartProvider, useCart } from \"react-use-cart\";\nexport const addToCart = (id, quantity) => async dispatch => {\n  const {\n    data\n  } = await axios.get(`http://127.0.0.1:8000/api/product/${id}`);\n  dispatch({\n    type: CART_ADD_ITEM,\n    payload: {\n      product: data.id,\n      title: data.title,\n      image: data.image,\n      description: data.description,\n      price: data.price * quantity,\n      quantity,\n      stock: data.stock\n    }\n  });\n};\nexport const removeItem = id => (dispatch, getState) => {\n  dispatch({\n    type: CART_REMOVE_ITEM,\n    payload: id\n  });\n  localStorage.setItem('persist:main-root', JSON.stringify(getState().cart.cartItems));\n};\nexport const removeAllItem = () => (dispatch, getState) => {\n  dispatch({\n    type: CART_REMOVE_ALL_ITEM\n  });\n};","map":{"version":3,"names":["axios","CART_ADD_ITEM","CART_REMOVE_ALL_ITEM","CART_REMOVE_ITEM","productListReducer","CartProvider","useCart","addToCart","id","quantity","dispatch","data","get","type","payload","product","title","image","description","price","stock","removeItem","getState","localStorage","setItem","JSON","stringify","cart","cartItems","removeAllItem"],"sources":["C:/Users/Alexandre Brosseau/Desktop/drf_react_eshop/eshop/src/redux/actions/cartActions.js"],"sourcesContent":["import axios from \"axios\"\r\nimport {CART_ADD_ITEM, CART_REMOVE_ALL_ITEM, CART_REMOVE_ITEM} from '../constants/cartConstants'\r\nimport { productListReducer } from \"../reducers/productReducer/productReducers\"\r\nimport { CartProvider, useCart } from \"react-use-cart\";\r\n\r\n\r\n \r\n    \r\n   \r\nexport const addToCart = (id, quantity) => async(dispatch) => {\r\n    \r\n   \r\n\r\n    const {data} = await axios.get(`http://127.0.0.1:8000/api/product/${id}`)\r\n    dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n            product: data.id,\r\n            title: data.title,\r\n            image : data.image,\r\n            description: data.description,\r\n            price: data.price * quantity,\r\n            quantity,\r\n            stock: data.stock\r\n        }\r\n\r\n})\r\n} \r\n\r\nexport const removeItem = (id) => (dispatch, getState) => {\r\n\r\n    dispatch({\r\n        \r\n        type: CART_REMOVE_ITEM,\r\n        payload: id\r\n\r\n    })\r\n    localStorage.setItem('persist:main-root', JSON.stringify(getState().cart.cartItems))\r\n\r\n}\r\n\r\nexport const removeAllItem = () => (dispatch, getState) => {\r\n    dispatch({\r\n        type: CART_REMOVE_ALL_ITEM\r\n    })\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAR,EAAuBC,oBAAvB,EAA6CC,gBAA7C,QAAoE,4BAApE;AACA,SAASC,kBAAT,QAAmC,4CAAnC;AACA,SAASC,YAAT,EAAuBC,OAAvB,QAAsC,gBAAtC;AAMA,OAAO,MAAMC,SAAS,GAAG,CAACC,EAAD,EAAKC,QAAL,KAAkB,MAAMC,QAAN,IAAmB;EAI1D,MAAM;IAACC;EAAD,IAAS,MAAMX,KAAK,CAACY,GAAN,CAAW,qCAAoCJ,EAAG,EAAlD,CAArB;EACAE,QAAQ,CAAC;IACLG,IAAI,EAAEZ,aADD;IAELa,OAAO,EAAE;MACLC,OAAO,EAAEJ,IAAI,CAACH,EADT;MAELQ,KAAK,EAAEL,IAAI,CAACK,KAFP;MAGLC,KAAK,EAAGN,IAAI,CAACM,KAHR;MAILC,WAAW,EAAEP,IAAI,CAACO,WAJb;MAKLC,KAAK,EAAER,IAAI,CAACQ,KAAL,GAAaV,QALf;MAMLA,QANK;MAOLW,KAAK,EAAET,IAAI,CAACS;IAPP;EAFJ,CAAD,CAAR;AAaH,CAlBM;AAoBP,OAAO,MAAMC,UAAU,GAAIb,EAAD,IAAQ,CAACE,QAAD,EAAWY,QAAX,KAAwB;EAEtDZ,QAAQ,CAAC;IAELG,IAAI,EAAEV,gBAFD;IAGLW,OAAO,EAAEN;EAHJ,CAAD,CAAR;EAMAe,YAAY,CAACC,OAAb,CAAqB,mBAArB,EAA0CC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,GAAGK,IAAX,CAAgBC,SAA/B,CAA1C;AAEH,CAVM;AAYP,OAAO,MAAMC,aAAa,GAAG,MAAM,CAACnB,QAAD,EAAWY,QAAX,KAAwB;EACvDZ,QAAQ,CAAC;IACLG,IAAI,EAAEX;EADD,CAAD,CAAR;AAGH,CAJM"},"metadata":{},"sourceType":"module"}