{"ast":null,"code":"import { USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS } from \"../constants/userConstants\";\nimport axiosInstance from \"../../axios\";\nexport const login = (email, password) => async dispatch => {\n  dispatch({\n    type: USER_LOGIN_REQUEST\n  });\n  const {\n    data\n  } = await axiosInstance.post(`http://127.0.0.1:8000/api/token/`, {\n    email: email,\n    password: password\n  }).then(res => {\n    localStorage.setItem('access_token', res.data.access);\n    localStorage.setItem('refresh_token', res.data.refresh);\n    axiosInstance.defaults.headers['Authorization'] = 'JWT' + localStorage.getItem('access_token');\n  });\n  dispatch({\n    type: USER_LOGIN_SUCCESS,\n    payload: data\n  });\n};","map":{"version":3,"names":["USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","axiosInstance","login","email","password","dispatch","type","data","post","then","res","localStorage","setItem","access","refresh","defaults","headers","getItem","payload"],"sources":["C:/Users/Alexandre Brosseau/Desktop/drf_react_eshop/eshop/src/redux/actions/userActions.js"],"sourcesContent":["import { USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS } from \"../constants/userConstants\"\r\n\r\nimport axiosInstance from \"../../axios\";\r\n\r\n\r\nexport const login = (email, password) => async(dispatch) => { \r\n\r\n        dispatch({\r\n        type: USER_LOGIN_REQUEST\r\n    })\r\n    const {data} = await  axiosInstance.post(`http://127.0.0.1:8000/api/token/`, {\r\n        email: email,\r\n        password: password\r\n        })\r\n        .then((res) => {\r\n            localStorage.setItem('access_token', res.data.access);\r\n            localStorage.setItem('refresh_token', res.data.refresh);   \r\n\r\n            axiosInstance.defaults.headers['Authorization'] = \r\n                'JWT' + localStorage.getItem('access_token');\r\n           \r\n      \r\n         } )\r\n        \r\n       dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data\r\n       })\r\n    }\r\n  \r\n\r\n\r\n"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,kBAA7B,QAAuD,4BAAvD;AAEA,OAAOC,aAAP,MAA0B,aAA1B;AAGA,OAAO,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB,MAAMC,QAAN,IAAmB;EAErDA,QAAQ,CAAC;IACTC,IAAI,EAAEP;EADG,CAAD,CAAR;EAGJ,MAAM;IAACQ;EAAD,IAAS,MAAON,aAAa,CAACO,IAAd,CAAoB,kCAApB,EAAuD;IACzEL,KAAK,EAAEA,KADkE;IAEzEC,QAAQ,EAAEA;EAF+D,CAAvD,EAIjBK,IAJiB,CAIXC,GAAD,IAAS;IACXC,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCF,GAAG,CAACH,IAAJ,CAASM,MAA9C;IACAF,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCF,GAAG,CAACH,IAAJ,CAASO,OAA/C;IAEAb,aAAa,CAACc,QAAd,CAAuBC,OAAvB,CAA+B,eAA/B,IACI,QAAQL,YAAY,CAACM,OAAb,CAAqB,cAArB,CADZ;EAIF,CAZgB,CAAtB;EAcGZ,QAAQ,CAAC;IACJC,IAAI,EAAEN,kBADF;IAEJkB,OAAO,EAAEX;EAFL,CAAD,CAAR;AAIF,CAvBE"},"metadata":{},"sourceType":"module"}