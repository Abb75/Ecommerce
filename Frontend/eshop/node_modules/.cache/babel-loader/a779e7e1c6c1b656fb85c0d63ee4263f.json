{"ast":null,"code":"import { PAYMENT_USER_FAIL, PAYMENT_USER_REQUEST, PAYMENT_USER_SUCCESS } from \"../constants/paymentConstants\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../components/Stripe/StripeContainer\";\nexport const CreatePayment = () => async (dispatch, getState) => {\n  console.log('rrrrr');\n  const PUBLIC_KEY = 'pk_test_51Jyg7eGk75zbcxVeN4uGKWm205YsZo0R4Qn5c2rYok07G2G0PCj9wqtqGe08tcABT4v2qMHoI3OcjqruzNln7qdj00RimaDJHq';\n  const SK = 'sk_test_51Jyg7eGk75zbcxVe1clNVNbhNAATOVvuC0xuz6RST5pKtIPVSETBBeJHO9ReQM0t8gqfco9xJJ6LlaREWKHPGCnk00Zofrs8Un'; //console.log(cartItems, totalPrice)\n\n  try {\n    dispatch({\n      type: PAYMENT_USER_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-type': 'application/json',\n        //Accept: 'application/json',\n        Authorization: `Bearer ${PUBLIC_KEY}`\n      }\n    };\n    console.log(config);\n    const {\n      data\n    } = await axios.post('http://127.0.0.1:8000/api/stripe/payment/', {\n      headers: {\n        'Content-type': 'application/json',\n        //Accept: 'application/json',\n        Authorization: `Bearer ${SK}`\n      }\n    });\n    dispatch({\n      type: PAYMENT_USER_SUCCESS\n    });\n    console.log(data);\n  } catch (error) {\n    dispatch({\n      type: PAYMENT_USER_FAIL,\n      payload: error.response\n    });\n  }\n};","map":{"version":3,"names":["PAYMENT_USER_FAIL","PAYMENT_USER_REQUEST","PAYMENT_USER_SUCCESS","axios","API_URL","CreatePayment","dispatch","getState","console","log","PUBLIC_KEY","SK","type","userLogin","userInfo","config","headers","Authorization","data","post","error","payload","response"],"sources":["C:/Users/Alexandre Brosseau/Desktop/drf_react_eshop/eshop/src/redux/actions/paymentAction.js"],"sourcesContent":["import { PAYMENT_USER_FAIL, PAYMENT_USER_REQUEST, PAYMENT_USER_SUCCESS } from \"../constants/paymentConstants\"\r\nimport axios from \"axios\"\r\nimport { API_URL } from \"../../components/Stripe/StripeContainer\"\r\n\r\n\r\nexport const CreatePayment =  () => async(dispatch, getState) => {\r\n    console.log('rrrrr')\r\n    const PUBLIC_KEY = 'pk_test_51Jyg7eGk75zbcxVeN4uGKWm205YsZo0R4Qn5c2rYok07G2G0PCj9wqtqGe08tcABT4v2qMHoI3OcjqruzNln7qdj00RimaDJHq'\r\n    const SK = 'sk_test_51Jyg7eGk75zbcxVe1clNVNbhNAATOVvuC0xuz6RST5pKtIPVSETBBeJHO9ReQM0t8gqfco9xJJ6LlaREWKHPGCnk00Zofrs8Un'\r\n\r\n     //console.log(cartItems, totalPrice)\r\n    try{\r\n        dispatch({ type: PAYMENT_USER_REQUEST})\r\n        const {userLogin: {userInfo},} = getState()\r\n        \r\n       \r\n        const config = {\r\n            headers: {\r\n                'Content-type':  'application/json',\r\n                //Accept: 'application/json',\r\n                Authorization: `Bearer ${PUBLIC_KEY}`\r\n            }\r\n\r\n        }\r\n        console.log(config)\r\n       \r\n       \r\n        const {data} = await axios.post('http://127.0.0.1:8000/api/stripe/payment/', {\r\n            headers: {\r\n                'Content-type':  'application/json',\r\n                //Accept: 'application/json',\r\n                Authorization: `Bearer ${SK}`\r\n    }})\r\n\r\n        dispatch({\r\n            type: PAYMENT_USER_SUCCESS\r\n        })\r\n        console.log(data)\r\n      \r\n\r\n       \r\n\r\n\r\n\r\n    }catch(error){\r\n        dispatch({\r\n            type : PAYMENT_USER_FAIL,\r\n            payload : error.response\r\n          \r\n        })\r\n    }\r\n\r\n\r\n}   "],"mappings":"AAAA,SAASA,iBAAT,EAA4BC,oBAA5B,EAAkDC,oBAAlD,QAA8E,+BAA9E;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,yCAAxB;AAGA,OAAO,MAAMC,aAAa,GAAI,MAAM,OAAMC,QAAN,EAAgBC,QAAhB,KAA6B;EAC7DC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACA,MAAMC,UAAU,GAAG,6GAAnB;EACA,MAAMC,EAAE,GAAG,6GAAX,CAH6D,CAK5D;;EACD,IAAG;IACCL,QAAQ,CAAC;MAAEM,IAAI,EAAEX;IAAR,CAAD,CAAR;IACA,MAAM;MAACY,SAAS,EAAE;QAACC;MAAD;IAAZ,IAA2BP,QAAQ,EAAzC;IAGA,MAAMQ,MAAM,GAAG;MACXC,OAAO,EAAE;QACL,gBAAiB,kBADZ;QAEL;QACAC,aAAa,EAAG,UAASP,UAAW;MAH/B;IADE,CAAf;IAQAF,OAAO,CAACC,GAAR,CAAYM,MAAZ;IAGA,MAAM;MAACG;IAAD,IAAS,MAAMf,KAAK,CAACgB,IAAN,CAAW,2CAAX,EAAwD;MACzEH,OAAO,EAAE;QACL,gBAAiB,kBADZ;QAEL;QACAC,aAAa,EAAG,UAASN,EAAG;MAHvB;IADgE,CAAxD,CAArB;IAOAL,QAAQ,CAAC;MACLM,IAAI,EAAEV;IADD,CAAD,CAAR;IAGAM,OAAO,CAACC,GAAR,CAAYS,IAAZ;EAOH,CAjCD,CAiCC,OAAME,KAAN,EAAY;IACTd,QAAQ,CAAC;MACLM,IAAI,EAAGZ,iBADF;MAELqB,OAAO,EAAGD,KAAK,CAACE;IAFX,CAAD,CAAR;EAKH;AAGJ,CAhDM"},"metadata":{},"sourceType":"module"}