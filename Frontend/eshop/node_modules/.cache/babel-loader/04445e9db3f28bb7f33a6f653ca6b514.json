{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alexandre Brosseau\\\\Desktop\\\\drf_react_eshop\\\\eshop\\\\src\\\\components\\\\AccountUser\\\\LoginUser\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport './Login.css';\nimport { toast } from 'react-toastify';\nimport axiosInstance from \"../../../axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport Container from '@material-ui/core/Container';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const initialFormData = Object.freeze({\n    email: '',\n    password: ''\n  });\n  const [formData, setFormData] = useState(initialFormData);\n  const [showWelcomeMsg, setShowWelcomeMsg] = useState(false);\n\n  const handleChange = e => {\n    setFormData({ ...formData,\n      [e.target.id]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axiosInstance.post(`http://127.0.0.1:8000/api/token/`, {\n      email: formData.email,\n      password: formData.password\n    }).then(res => {\n      localStorage.setItem('access_token', res.data.access);\n      localStorage.setItem('refresh_token', res.data.refresh);\n      axiosInstance.defaults.headers['Authorization'] = 'JWT' + localStorage.getItem('access_token');\n      navigate('/');\n    });\n  };\n\n  const WelcomeMsg = () => {\n    if (!showWelcomeMsg) {\n      setShowWelcomeMsg(true);\n    }\n\n    toast.warn(`Welcome `, {\n      position: \"top-right\",\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n  };\n\n  const {\n    email,\n    password\n  } = formData;\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.paper,\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        className: classes.avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          id: \"email\",\n          label: \"Email Address\",\n          name: \"email\",\n          autoComplete: \"email\",\n          autoFocus: true,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          name: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          id: \"password\",\n          autoComplete: \"current-password\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Checkbox, {\n            value: \"remember\",\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 30\n          }, this),\n          label: \"Remember me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          className: classes.submit,\n          onClick: handleSubmit,\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: true,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"#\",\n              variant: \"body2\",\n              children: \"Forgot password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"#\",\n              variant: \"body2\",\n              children: \"Don't have an account? Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"dzK+Eo7DYFsiqS7sZV+gzYavGwQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","toast","axiosInstance","useNavigate","Container","configure","Login","navigate","initialFormData","Object","freeze","email","password","formData","setFormData","showWelcomeMsg","setShowWelcomeMsg","handleChange","e","target","id","value","handleSubmit","preventDefault","post","then","res","localStorage","setItem","data","access","refresh","defaults","headers","getItem","WelcomeMsg","warn","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","classes","paper","avatar","form","submit"],"sources":["C:/Users/Alexandre Brosseau/Desktop/drf_react_eshop/eshop/src/components/AccountUser/LoginUser/Login.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\"\r\nimport './Login.css'\r\nimport { toast} from 'react-toastify';\r\nimport axiosInstance from \"../../../axios\";\r\nimport {  useNavigate } from \"react-router-dom\";\r\nimport Container from '@material-ui/core/Container';\r\n\r\ntoast.configure();\r\n\r\nconst Login = () => {\r\n\r\n    const navigate = useNavigate();\r\n    const initialFormData = Object.freeze({\r\n        email: '',\r\n        password: ''\r\n    });\r\n    const [formData, setFormData] = useState(initialFormData);\r\n    const [showWelcomeMsg ,setShowWelcomeMsg] = useState(false)\r\n\r\n    const handleChange = e => {\r\n       \r\n        setFormData({\r\n            ...formData,[e.target.id]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n      \r\n      \r\n\r\n        axiosInstance \r\n            .post(`http://127.0.0.1:8000/api/token/`, {\r\n                email: formData.email,\r\n                password: formData.password\r\n            })\r\n        \r\n            .then((res) => {\r\n                localStorage.setItem('access_token', res.data.access);\r\n                localStorage.setItem('refresh_token', res.data.refresh);\r\n                axiosInstance.defaults.headers['Authorization'] = \r\n                    'JWT' + localStorage.getItem('access_token');\r\n                navigate('/');\r\n              \r\n               \r\n            })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n  \r\n      \r\n \r\n       const WelcomeMsg = () => {\r\n            if(!showWelcomeMsg){\r\n                setShowWelcomeMsg(true)\r\n              \r\n            }\r\n                \r\n            \r\n                toast.warn(`Welcome `, {\r\n                    position: \"top-right\",\r\n                    autoClose: 3000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n          \r\n        });\r\n  \r\n        \r\n    }\r\n\r\n    const {email, password}  = formData\r\n\r\n    return (\r\n       \r\n      \r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}></Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                Sign in\r\n            </Typography>\r\n            <form className={classes.form} noValidate>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    label=\"Email Address\"\r\n                    name=\"email\"\r\n                    autoComplete=\"email\"\r\n                    autoFocus\r\n                    onChange={handleChange}\r\n                />\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    onChange={handleChange}\r\n                />\r\n                <FormControlLabel\r\n                    control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                    label=\"Remember me\"\r\n                />\r\n                <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    onClick={handleSubmit}\r\n                >\r\n                    Sign In\r\n                </Button>\r\n                <Grid container>\r\n                    <Grid item xs>\r\n                        <Link href=\"#\" variant=\"body2\">\r\n                            Forgot password?\r\n                        </Link>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Link href=\"#\" variant=\"body2\">\r\n                            {\"Don't have an account? Sign Up\"}\r\n                        </Link>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    </Container>\r\n\r\n\r\n \r\n    )\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}